(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{227:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return l})),t.d(a,"metadata",(function(){return c})),t.d(a,"rightToc",(function(){return o})),t.d(a,"default",(function(){return p}));var r=t(2),n=t(9),i=(t(0),t(266)),l={title:"Gradle"},c={id:"programming/Java/12Gradle",isDocsHomePage:!1,title:"Gradle",description:"Gradle is an open-source build automation tool focused on flexibility and performance.",source:"@site/docs/programming/Java/12Gradle.mdx",permalink:"/docs/programming/Java/12Gradle",editUrl:"https://github.com/lingt-xyz/io/tree/master/docs/programming/Java/12Gradle.mdx",lastUpdatedAt:1598198409,sidebar:"java",previous:{title:"Maven",permalink:"/docs/programming/Java/11Maven"}},o=[{value:"Getting Started",id:"getting-started",children:[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Initialize a project",id:"initialize-a-project",children:[]},{value:"Create a task",id:"create-a-task",children:[]},{value:"References",id:"references",children:[]}]},{value:"Building Java Libraries",id:"building-java-libraries",children:[{value:"Prerequisites",id:"prerequisites-1",children:[]},{value:"Initialize a library project",id:"initialize-a-library-project",children:[]},{value:"Review the generated project files",id:"review-the-generated-project-files",children:[]},{value:"Assemble the library JAR",id:"assemble-the-library-jar",children:[]},{value:"References",id:"references-1",children:[]}]}],b={rightToc:o};function p(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://docs.gradle.org/current/userguide/userguide.html"}),"Gradle")," is an open-source ",Object(i.b)("strong",{parentName:"p"},"build automation")," tool focused on flexibility and performance."),Object(i.b)("h2",{id:"getting-started"},"Getting Started"),Object(i.b)("h3",{id:"prerequisites"},"Prerequisites"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"JRE ",">","= 1.8",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"java -version")))),Object(i.b)("li",{parentName:"ul"},"Gradle ",">","= 4.10.3",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradle -version"))))),Object(i.b)("h3",{id:"initialize-a-project"},"Initialize a project"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-text"}),"% mkdir basic-demo\n% cd basic-demo\n% gradle init\n")),Object(i.b)("h4",{id:"what-gradle-generated-for-you"},"What Gradle generated for you"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-groovy"}),"\u251c\u2500\u2500 build.gradle  \n\u251c\u2500\u2500 gradle\n\u2502   \u2514\u2500\u2500 wrapper\n\u2502       \u251c\u2500\u2500 gradle-wrapper.jar  \n\u2502       \u2514\u2500\u2500 gradle-wrapper.properties  \n\u251c\u2500\u2500 gradlew  \n\u251c\u2500\u2500 gradlew.bat  \n\u2514\u2500\u2500 settings.gradle  \n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"build.gradle")," : Gradle build script for configuring the current project"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradle-wrapper.jar"),": ",Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://docs.gradle.org/4.10.3/userguide/gradle_wrapper.html"}),"Gradle Wrapper")," executable JAR"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradle-wrapper.properties"),": Gradle Wrapper configuration properties"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradlew"),": Gradle Wrapper script for Unix-based systems"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradlew.bat"),": Gradle Wrapper script for Windows"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"settings.gradle"),": Gradle settings script for configuring the Gradle build")),Object(i.b)("h3",{id:"create-a-task"},"Create a task"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Create a directory called ",Object(i.b)("inlineCode",{parentName:"li"},"src"),"."),Object(i.b)("li",{parentName:"ol"},"Add a file called ",Object(i.b)("inlineCode",{parentName:"li"},"myfile.txt")," in the ",Object(i.b)("inlineCode",{parentName:"li"},"src")," directory. Add the single line ",Object(i.b)("inlineCode",{parentName:"li"},"Hello, World!")," to it."),Object(i.b)("li",{parentName:"ol"},"Define a task called ",Object(i.b)("inlineCode",{parentName:"li"},"copy")," of type ",Object(i.b)("inlineCode",{parentName:"li"},"Copy")," in your build file ",Object(i.b)("inlineCode",{parentName:"li"},"build.gradle")," that copied the ",Object(i.b)("inlineCode",{parentName:"li"},"src")," directory to a new directory called ",Object(i.b)("inlineCode",{parentName:"li"},"dest"),". ","(","You don't have to create the ",Object(i.b)("inlineCode",{parentName:"li"},"dest")," directory, the task will do it for you.",")")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'}),'task copy(type: Copy, group: "Custom", description: "Copies sources to the dest directory") {\n    from "src"\n    into "dest"\n}\n')),Object(i.b)("h4",{id:"run-a-task"},"Run a task"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"% ./gradlew copy\n> Task :copy\n\nBUILD SUCCESSFUL in 0s\n1 actionable task: 1 executed\n")),Object(i.b)("h3",{id:"references"},"References"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://guides.gradle.org/creating-new-gradle-builds/"}),"Creating New Gradle Builds"))),Object(i.b)("h2",{id:"building-java-libraries"},"Building Java Libraries"),Object(i.b)("h3",{id:"prerequisites-1"},"Prerequisites"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"JRE ",">","= 1.8",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"java -version")))),Object(i.b)("li",{parentName:"ul"},"Gradle ",">","= 5.0",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gradle -version"))))),Object(i.b)("h3",{id:"initialize-a-library-project"},"Initialize a library project"),Object(i.b)("p",null,"From inside the new project directory, run the ",Object(i.b)("inlineCode",{parentName:"p"},"init")," task and select ",Object(i.b)("inlineCode",{parentName:"p"},"java-library")," project type when prompted."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"% mkdir demo\n% cd demo\n% gradle init\n\nSelect type of project to generate:\n  1: basic\n  2: cpp-application\n  3: cpp-library\n  4: groovy-application\n  5: groovy-library\n  6: java-application\n  7: java-library\n  8: kotlin-application\n  9: kotlin-library\n  10: scala-library\nEnter selection (default: basic) [1..10] 7\n\nSelect build script DSL:\n  1: groovy\n  2: kotlin\nEnter selection (default: groovy) [1..2]\n\nSelect test framework:\n  1: junit\n  2: testng\n  3: spock\nEnter selection (default: junit) [1..3]\n\nProject name (default: demo):\n\nSource package (default: demo):\n\n\nBUILD SUCCESSFUL in 1s\n2 actionable tasks: 2 executed\n")),Object(i.b)("h4",{id:"what-gradle-generated-for-you-1"},"What Gradle generated for you"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-text"}),"\u251c\u2500\u2500 build.gradle\n\u251c\u2500\u2500 gradle\n\u2502   \u2514\u2500\u2500 wrapper \n\u2502       \u251c\u2500\u2500 gradle-wrapper.jar\n\u2502       \u2514\u2500\u2500 gradle-wrapper.properties\n\u251c\u2500\u2500 gradlew\n\u251c\u2500\u2500 gradlew.bat\n\u251c\u2500\u2500 settings.gradle\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main\n    \u2502   \u2514\u2500\u2500 java \n    \u2502       \u2514\u2500\u2500 demo\n    \u2502           \u2514\u2500\u2500 Library.java\n    \u2514\u2500\u2500 test\n        \u2514\u2500\u2500 java \n            \u2514\u2500\u2500 demo\n                \u2514\u2500\u2500 LibraryTest.java\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"src/main/java"),": Default Java source folder"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"src/test/java"),": Default Java test folder")),Object(i.b)("h3",{id:"review-the-generated-project-files"},"Review the generated project files"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-groovy",metastring:'title="settings.gradle"',title:'"settings.gradle"'}),"rootProject.name = 'building-java-libraries'\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"This assigns the name of the project.")),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'}),"plugins {\n    id 'java-library'\n}\n\nrepositories {\n    jcenter() \n}\n\ndependencies {\n    api 'org.apache.commons:commons-math3:3.6.1' \n\n    implementation 'com.google.guava:guava:27.0.1-jre' \n\n    testImplementation 'junit:junit:4.12' \n}\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"repositories"),": Public Bintray Artifactory repository"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"api 'org.apache.commons:commons-math3:3.6.1'"),": This is an example of a dependency which is exported to consumers, that is to say found on their compile classpath."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"implementation 'com.google.guava:guava:27.0.1-jre'"),": This is an example of a dependency which is used internally, and not exposed to consumers on their own compile classpath."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"testImplementation 'junit:junit:4.12'"),": JUnit testing library")),Object(i.b)("h3",{id:"assemble-the-library-jar"},"Assemble the library JAR"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ ./gradlew build\n> Task :compileJava\n> Task :processResources NO-SOURCE\n> Task :classes\n> Task :jar\n> Task :assemble\n> Task :compileTestJava\n> Task :processTestResources NO-SOURCE\n> Task :testClasses\n> Task :test\n> Task :check\n> Task :build\n\nBUILD SUCCESSFUL in 11s\n4 actionable tasks: 4 executed\n")),Object(i.b)("p",null,"You can find your newly packaged JAR file in the ",Object(i.b)("inlineCode",{parentName:"p"},"build/libs")," directory with the name ",Object(i.b)("inlineCode",{parentName:"p"},"building-java-libraries.jar"),". Verify that the archive is valid by running the following command:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ jar tf build/libs/building-java-libraries.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\nLibrary.class\n")),Object(i.b)("h3",{id:"references-1"},"References"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://guides.gradle.org/building-java-libraries/"}),"Building Java Libraries"))))}p.isMDXComponent=!0},266:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return m}));var r=t(0),n=t.n(r);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var b=n.a.createContext({}),p=function(e){var a=n.a.useContext(b),t=a;return e&&(t="function"==typeof e?e(a):c(c({},a),e)),t},s=function(e){var a=p(e.components);return n.a.createElement(b.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},u=n.a.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),s=p(t),u=r,m=s["".concat(l,".").concat(u)]||s[u]||d[u]||i;return t?n.a.createElement(m,c(c({ref:a},b),{},{components:t})):n.a.createElement(m,c({ref:a},b))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=u;var c={};for(var o in a)hasOwnProperty.call(a,o)&&(c[o]=a[o]);c.originalType=e,c.mdxType="string"==typeof e?e:r,l[1]=c;for(var b=2;b<i;b++)l[b]=t[b];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);