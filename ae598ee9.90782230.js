(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{199:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return i}));var r=n(2),a=n(9),o=(n(0),n(220)),b={title:"Back to black"},l={permalink:"/blog/2019/03/07/back-to-black",editUrl:"https://github.com/lingt-xyz/io/tree/master/blog/2019-03-07-back-to-black.mdx",source:"@site/blog/2019-03-07-back-to-black.mdx",description:"For Ubuntu 17.10 & GDM 3.26.2",date:"2019-03-07T00:00:00.000Z",tags:[],title:"Back to black",readingTime:2.22,truncated:!0,prevItem:{title:"Dual-boot System time is wrong",permalink:"/blog/2019/07/17/dual-boot-sysmte-time-is-wrong"},nextItem:{title:"Use MathJax in Jekyll",permalink:"/blog/2018/08/29/use-mathjax-in-jekyll"}},c=[{value:"Steps",id:"steps",children:[]},{value:"Dark Theme (i.e., Ark-Dark)",id:"dark-theme-ie-ark-dark",children:[]},{value:"Wallpaper &amp; Lockscreen",id:"wallpaper--lockscreen",children:[]},{value:"Ubuntu Start/Shutdown screen (w/ ubuntu logo)",id:"ubuntu-startshutdown-screen-w-ubuntu-logo",children:[]},{value:"Grub",id:"grub",children:[]},{value:"GDM Login Screen",id:"gdm-login-screen",children:[]}],p={rightToc:c};function i(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"For Ubuntu 17.10 & GDM 3.26.2"),Object(o.b)("h2",{id:"steps"},"Steps"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Dark Theme (i.e., Ark-Dark)"),Object(o.b)("li",{parentName:"ol"},"Wallpaper & Lockscreen"),Object(o.b)("li",{parentName:"ol"},"Ubuntu Start/Shutdown screen (w/ ubuntu logo)"),Object(o.b)("li",{parentName:"ol"},"Grub"),Object(o.b)("li",{parentName:"ol"},"GDM Login Screen")),Object(o.b)("hr",null),Object(o.b)("h2",{id:"dark-theme-ie-ark-dark"},"Dark Theme (i.e., Ark-Dark)"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"install arc-theme"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo apt install arc-theme"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"set theme"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"gsettings set org.gnome.desktop.interface gtk-theme 'Arc-Dark'")))),Object(o.b)("h2",{id:"wallpaper--lockscreen"},"Wallpaper & Lockscreen"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Copy image file"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},'DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd )"')),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo cp <wallpaper_1920x1080.png> /usr/share/backgrounds"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"desktop wallpaper"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"gsettings set org.gnome.desktop.background picture-uri 'file:///usr/share/backgrounds/<wallpaper_1920x1080.png>'"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"lock screen"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"gsettings set org.gnome.desktop.screensaver picture-uri 'file:///usr/share/backgrounds/<wallpaper_1920x1080.png>'")))),Object(o.b)("h2",{id:"ubuntu-startshutdown-screen-w-ubuntu-logo"},"Ubuntu Start/Shutdown screen (w/ ubuntu logo)"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Edit script"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"xhost +local: && sudo nano /usr/share/plymouth/themes/ubuntu-logo/ubuntu-logo.script"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Change from "),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"# Window.SetBackgroundTopColor (0.16, 0.00, 0.12); # Nice colour on top of the screen fading to\n# Window.SetBackgroundBottomColor (0.16, 0.00, 0.12); # an equally nice colour on the bottom\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Change to"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"Window.SetBackgroundTopColor (0.0, 0.00, 0.0); # Nice colour on top of the screen fading to\nWindow.SetBackgroundBottomColor (0.0, 0.00, 0.0); # an equally nice colour on the bottom\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Update"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo update-initramfs -u")))),Object(o.b)("h2",{id:"grub"},"Grub"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Copy image file"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo cp <wallpaper_1920x1080.png> /boot/grub"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"comment out problematic line"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},'sudo sed -i "/GRUB_HIDDEN_TIMEOUT=0/ s/^/# /" /etc/default/grub'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"update /boot/grub/grub.cfg"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo update-grub"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Notes: ",Object(o.b)("inlineCode",{parentName:"p"},"sudo nano /etc/default/grub"),"    "),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"/etc/default/grub")," provides ",Object(o.b)("inlineCode",{parentName:"p"},"GRUB_HIDDEN_TIMEOUT")," and ",Object(o.b)("inlineCode",{parentName:"p"},"GRUB_HIDDEN_TIMEOUT_QUIET"),".\nRunning ",Object(o.b)("inlineCode",{parentName:"p"},"sudo update-grub")," gives following warning:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"  Warning: Setting GRUB_TIMEOUT to a non-zero value whenGRUB_HIDDEN_TIMEOUT is set is no longer supported.\n")),Object(o.b)("p",{parentName:"li"},"  To see custom grub wallpaper, instead of black screen, cannot have both ",Object(o.b)("inlineCode",{parentName:"p"},"GRUB_HIDDEN_TIMEOUT")," and ",Object(o.b)("inlineCode",{parentName:"p"},"GRUB_HIDDEN_TIMEOUT_QUIET"),". Commenting out one or the other will permit the custom wallpape to be displayed.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Fix black splash screen in 17.10 by commenting out one of the following two lines: "),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"GRUB_HIDDEN_TIMEOUT=0")," # comment out this line (to show both splash screen and grub menu) "),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"GRUB_HIDDEN_TIMEOUT_QUIET=true")))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"erify update-grub correctly updated splash screen image (search for image filename)"),Object(o.b)("p",{parentName:"li"},"  ",Object(o.b)("inlineCode",{parentName:"p"},"cat /boot/grub/grub.cfg")))))),Object(o.b)("h2",{id:"gdm-login-screen"},"GDM Login Screen"),Object(o.b)("p",null,"extract gresource, replace ",Object(o.b)("inlineCode",{parentName:"p"},"noise-texture.png"),", rebuild gresource, copy ",Object(o.b)("inlineCode",{parentName:"p"},".gresource")," into ",Object(o.b)("inlineCode",{parentName:"p"},"/usr/share/gnome-shell/")),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"gresource extractor"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.devpy.me/the-best-linux-lockscreen/"}),"https://www.devpy.me/the-best-linux-lockscreen/")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/devpytech/scripts/tree/master/gresource-extract"}),"https://github.com/devpytech/scripts/tree/master/gresource-extract")))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Instructions to update GDM Login Screen"),Object(o.b)("ol",{parentName:"li"},Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"download the scripts on the DevPy GitHub: ",Object(o.b)("inlineCode",{parentName:"p"},"devpytech/scripts/gresource-extract"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"run ",Object(o.b)("inlineCode",{parentName:"p"},"./extract.sh"),' to extract your current theme to the "theme" folder in the same folder as the extract script')),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"edit ",Object(o.b)("inlineCode",{parentName:"p"},"./theme/gnome-shell.css")," (change #lockDialogGroup)"),Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"background: #000000 url(resource:///org/gnome/shell/theme/noise-texture.png);"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"copy background image to ",Object(o.b)("inlineCode",{parentName:"p"},"./theme/noise-texture.png")," (i.e., use same name) ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"run ",Object(o.b)("inlineCode",{parentName:"p"},"./build.sh")," from DevPy's GitHub to create ",Object(o.b)("inlineCode",{parentName:"p"},".gresource")," file in the theme folder")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},Object(o.b)("inlineCode",{parentName:"p"},"sudo mv ./theme/gnome-shell-theme.gresource /usr/share/gnome-shell/gnome-shell-theme.gresource")))))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Notes"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Change from:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"lockDialogGroup {\n    background: #2c001e url(resource:///org/gnome/shell/theme/noise-texture.png);\n    background-repeat: repeat; }\n"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"purple ",Object(o.b)("inlineCode",{parentName:"p"},"(#2c001e)")," -> black ",Object(o.b)("inlineCode",{parentName:"p"},"(#000000)"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Change to:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"lockDialogGroup {\n    background: #000000 url(resource:///org/gnome/shell/theme/noise-texture.png);\n    background-repeat: repeat; }\n")))))),Object(o.b)("hr",null),"[Ubuntu 17.10 & GDM 3.26.2: Back to Black](https://ubuntuforums.org/showthread.php?t=2384043&p=13736129#post13736129)")}i.isMDXComponent=!0},220:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return O}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=a.a.createContext({}),i=function(e){var t=a.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=i(e.components);return a.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},s=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,b=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=i(n),s=r,O=u["".concat(b,".").concat(s)]||u[s]||m[s]||o;return n?a.a.createElement(O,l(l({ref:t},p),{},{components:n})):a.a.createElement(O,l({ref:t},p))}));function O(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,b=new Array(o);b[0]=s;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,b[1]=l;for(var p=2;p<o;p++)b[p]=n[p];return a.a.createElement.apply(null,b)}return a.a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);