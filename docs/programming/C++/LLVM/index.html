<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="密云不雨" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><title data-react-helmet="true">Build LLVM 6.0 | 密云不雨</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Build LLVM 6.0 | 密云不雨"><meta data-react-helmet="true" name="description" content="Build LLVM 6.0, including Clang."><meta data-react-helmet="true" property="og:description" content="Build LLVM 6.0, including Clang."><meta data-react-helmet="true" property="og:url" content="https://lingt.xyz//docs/programming/C++/LLVM"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lingt.xyz//docs/programming/C++/LLVM"><link rel="stylesheet" href="/styles.af2b8c94.css">
<link rel="preload" href="/styles.06c31c63.js" as="script">
<link rel="preload" href="/runtime~main.4395aeee.js" as="script">
<link rel="preload" href="/main.59a7b286.js" as="script">
<link rel="preload" href="/1.c015ecf3.js" as="script">
<link rel="preload" href="/2.4025d3f1.js" as="script">
<link rel="preload" href="/3.6a5c2864.js" as="script">
<link rel="preload" href="/1be78505.5b4489fb.js" as="script">
<link rel="preload" href="/137.4e125233.js" as="script">
<link rel="preload" href="/20ac7829.9ade232c.js" as="script">
<link rel="preload" href="/17896441.e85942b2.js" as="script">
<link rel="preload" href="/efd094b5.0aa45749.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Logo"><strong class="navbar__title">Ling</strong></a><a class="navbar__item navbar__link" href="/docs/course/INSE6110">Course</a><a class="navbar__item navbar__link" href="/docs/TA/COMP352">TA</a><a class="navbar__item navbar__link" href="/docs/research/MathTax">Research</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Programming</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/programming/container/Container">Container</a></li><li><a class="dropdown__link" href="/docs/programming/Go/1Why">Go</a></li><li><a class="dropdown__link" href="/docs/programming/Python/Python">Python</a></li><li><a class="dropdown__link" href="/docs/programming/JavaScript/JavaScript">JavaScript</a></li><li><a class="dropdown__link" href="/docs/programming/Java/1IDE">Java</a></li><li><a class="dropdown__link" href="/docs/programming/C++/C++">C++</a></li><li><a class="dropdown__link" href="/docs/programming/database/Cassandra">Database</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/linux/Bash">Linux</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lingt-xyz/lingt-xyz.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Logo"><strong class="navbar__title">Ling</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/course/INSE6110">Course</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/TA/COMP352">TA</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/research/MathTax">Research</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">Programming</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/programming/container/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/Go/1Why">Go</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/Python/Python">Python</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/JavaScript/JavaScript">JavaScript</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/Java/1IDE">Java</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/C++">C++</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/database/Cassandra">Database</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/linux/Bash">Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/lingt-xyz/lingt-xyz.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/C++">C++</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/Compilation">C/C++ Compilation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/GCC">GCC Compiler</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/programming/C++/LLVM">Build LLVM 6.0</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/Make">GNU make</a></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Build LLVM 6.0</h1></header><div class="markdown"><p>Build LLVM 6.0, including Clang.</p><p>LLVM comes in three pieces. </p><ul><li><p>The first piece is the LLVM suite. This contains all of the tools, libraries, and header files needed to use LLVM. It contains an assembler, disassembler, bitcode analyzer and bitcode optimizer. It also contains basic regression tests that can be used to test the LLVM tools and the Clang front end.</p></li><li><p>The second piece is the Clang front end. This component compiles C, C++, Objective C, and Objective C++ code into LLVM bitcode. Once compiled into LLVM bitcode, a program can be manipulated with the LLVM tools from the LLVM suite.</p></li><li><p>There is a third, optional piece called Test Suite. It is a suite of programs with a testing harness that can be used to further test LLVM’s functionality and performance.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="source-code"></a>Source code<a aria-hidden="true" tabindex="-1" class="hash-link" href="#source-code" title="Direct link to heading">#</a></h2><p><a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-6.0.0">https://github.com/llvm/llvm-project/releases/tag/llvmorg-6.0.0</a></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="hardware"></a>Hardware<a aria-hidden="true" tabindex="-1" class="hash-link" href="#hardware" title="Direct link to heading">#</a></h2><p>Disk 20GB, RAM 16GB.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="host-environment"></a>Host environment<a aria-hidden="true" tabindex="-1" class="hash-link" href="#host-environment" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">uname</span><span class="token plain"> -a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Linux ubuntu </span><span class="token number" style="color:rgb(247, 140, 108)">5.4</span><span class="token plain">.0-42-generic </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#46~18.04.1-Ubuntu SMP Fri Jul 10 07:21:24 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> g++</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cmake</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="build-llvm-and-clang"></a>Build LLVM and Clang<a aria-hidden="true" tabindex="-1" class="hash-link" href="#build-llvm-and-clang" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> llvm-project</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> build </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">in-tree build is not supported</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cmake -DLLVM_ENABLE_PROJECTS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">clang -G </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Unix Makefiles&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/llvm</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cmake --build </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span></div></div></div></div></div><ul><li>After LLVM has finished building, install it from the build directory:</li></ul><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cmake --build </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> --target </span><span class="token function" style="color:rgb(130, 170, 255)">install</span></div></div></div></div></div><p>The <code>--target</code> option with install parameter in addition to the <code>--build</code> option tells cmake to build the install target.</p><p>It is possible to set a different install prefix at installation time by invoking the cmake_install.cmake script generated in the build directory:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cmake -DCMAKE_INSTALL_PREFIX</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/tmp/llvm -P cmake_install.cmake</span></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="references"></a>References<a aria-hidden="true" tabindex="-1" class="hash-link" href="#references" title="Direct link to heading">#</a></h2><ul><li><a href="https://releases.llvm.org/6.0.0/docs/CMake.html">https://releases.llvm.org/6.0.0/docs/CMake.html</a></li><li><a href="https://clang.llvm.org/get_started.html">https://clang.llvm.org/get_started.html</a></li><li><a href="https://releases.llvm.org/6.0.0/docs/GettingStarted.html">https://releases.llvm.org/6.0.0/docs/GettingStarted.html</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/lingt-xyz/io/tree/master/docs/programming/C++/LLVM.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-08-04T22:12:13.000Z" class="docLastUpdatedAt_1sqk">8/4/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/programming/C++/GCC"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« GCC Compiler</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/programming/C++/Make"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GNU make »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#source-code" class="table-of-contents__link">Source code</a></li><li><a href="#hardware" class="table-of-contents__link">Hardware</a></li><li><a href="#host-environment" class="table-of-contents__link">Host environment</a></li><li><a href="#build-llvm-and-clang" class="table-of-contents__link">Build LLVM and Clang</a></li><li><a href="#references" class="table-of-contents__link">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2021 Ling. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.06c31c63.js"></script>
<script src="/runtime~main.4395aeee.js"></script>
<script src="/main.59a7b286.js"></script>
<script src="/1.c015ecf3.js"></script>
<script src="/2.4025d3f1.js"></script>
<script src="/3.6a5c2864.js"></script>
<script src="/1be78505.5b4489fb.js"></script>
<script src="/137.4e125233.js"></script>
<script src="/20ac7829.9ade232c.js"></script>
<script src="/17896441.e85942b2.js"></script>
<script src="/efd094b5.0aa45749.js"></script>
</body>
</html>