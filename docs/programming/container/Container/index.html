<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="search" type="application/opensearchdescription+xml" title="Ling" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous"><title data-react-helmet="true">Container | Ling</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Container | Ling"><meta data-react-helmet="true" name="description" content="Some basics about containerization."><meta data-react-helmet="true" property="og:description" content="Some basics about containerization."><meta data-react-helmet="true" property="og:url" content="https://lingt.xyz//docs/programming/container/Container"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lingt.xyz//docs/programming/container/Container"><link rel="stylesheet" href="/styles.e8101577.css">
<link rel="preload" href="/styles.0da51b68.js" as="script">
<link rel="preload" href="/runtime~main.caa7fe77.js" as="script">
<link rel="preload" href="/main.aaae36b7.js" as="script">
<link rel="preload" href="/1.57931f34.js" as="script">
<link rel="preload" href="/2.886de19c.js" as="script">
<link rel="preload" href="/3.94523422.js" as="script">
<link rel="preload" href="/1be78505.014bf2dc.js" as="script">
<link rel="preload" href="/90.d52231c0.js" as="script">
<link rel="preload" href="/20ac7829.902f7540.js" as="script">
<link rel="preload" href="/17896441.29df7372.js" as="script">
<link rel="preload" href="/c65c1f86.e6540744.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Logo"><strong class="navbar__title">Ling</strong></a><a class="navbar__item navbar__link" href="/docs/course/INSE6130">Course</a><a class="navbar__item navbar__link" href="/docs/TA/COMP352">TA</a><a class="navbar__item navbar__link" href="/docs/research/MathTax">Research</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Programming</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/programming/container/Container">Container</a></li><li><a class="dropdown__link" href="/docs/programming/Go/Why">Go</a></li><li><a class="dropdown__link" href="/docs/programming/Python/Python">Python</a></li><li><a class="dropdown__link" href="/docs/programming/C++/C++">C++</a></li><li><a class="dropdown__link" href="/docs/programming/database/Cassandra_in_Docker">Database</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/linux/Bash">Linux</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lingt-xyz/lingt-xyz.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Logo"><strong class="navbar__title">Ling</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/course/INSE6130">Course</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/TA/COMP352">TA</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/research/MathTax">Research</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">Programming</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/programming/container/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/Go/Why">Go</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/Python/Python">Python</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/C++/C++">C++</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/database/Cassandra_in_Docker">Database</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/linux/Bash">Linux</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/lingt-xyz/lingt-xyz.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/programming/container/Container">Container</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/programming/container/Docker">Docker</a></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Container</h1></header><div class="markdown"><p>Some basics about containerization.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-is-container"></a>What is container<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-container" title="Direct link to heading">#</a></h2><p>Containers decouple software applications from the operating system, giving users a clean and minimal Linux environment while running everything else in one or more isolated &quot;containers&quot;. The purpose of a container is to launch a limited set of applications or services (often referred to as microservices) and have them run within a self-contained sandboxed environment.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="why-it-works"></a>Why it works<a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-it-works" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cgroups"></a>cgroups<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cgroups" title="Direct link to heading">#</a></h3><ul><li><a href="http://man7.org/linux/man-pages/man7/cgroups.7.html">cgroups</a> - Linux control groups, are a Linux kernel feature which allow processes to be organized into hiberachical groups whose usage of various types of resources can then be limited and monitored. The kernel&#x27;s cgroup interface is provided through a pseudo-filesystem called cgroupfs.  Grouping is implemented in the core cgroup kernel code, while resource tracking and limits are implemented in a set of per-resource-type subsystems (memory, CPU, and so on).</li><li>A <code>cgroup</code> is a collection of processes that are bound to a set of limits or parameters defined via the cgroup filesystem.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="subsystem"></a>subsystem<a aria-hidden="true" tabindex="-1" class="hash-link" href="#subsystem" title="Direct link to heading">#</a></h3><ul><li>A <code>subsystem</code> is a kernel component that modifies the behavior of the processes in a cgroup.  Various subsystems have been implemented, making it possible to do things such as limiting the amount of CPU time and memory available to a cgroup, accounting for the CPU time used by a cgroup, and freezing and resuming execution of the processes in a cgroup.  Subsystems are sometimes also known as resource controllers (or simply, controllers).</li><li>The cgroups for a controller are arranged in a hierarchy. This hierarchy is defined by creating, removing, and renaming subdirectories within the cgroup filesystem. At each level of the hierarchy, attributes (e.g., limits) can be defined. The limits, control, and accounting provided by cgroups generally have effect throughout the subhierarchy underneath the cgroup where the attributes are defined. Thus, for example, the limits placed on a cgroup at a higher level in the hierarchy cannot be exceeded by descendant cgroups.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="kernfs"></a>kernfs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kernfs" title="Direct link to heading">#</a></h3><ul><li>In the Linux kernel, <a href="https://en.wikipedia.org/wiki/Kernfs_(Linux)" target="_blank" rel="noopener noreferrer">kernfs</a> is a set of functions that contain the functionality required for creating pseudo file systems used internally by various kernel subsystems. The creation of kernfs resulted from splitting off part of the internal logic used by sysfs, which provides a set of virtual files by exporting information about hardware devices and associated device drivers from the kernel&#x27;s device model to user space, into an independent and reusable functionality so other kernel subsystems can implement their own pseudo file systems more easily and consistently.</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="lxc"></a>LXC<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lxc" title="Direct link to heading">#</a></h2><ul><li>LXC (Linux Containers) is an operating-system-level virtualization method for running multiple isolated Linux systems (containers) on a control host using a single Linux kernel.</li><li>The Linux kernel provides the cgroups functionality that allows limitation and prioritization of resources (CPU, memory, block I/O, network, etc.) without the need for starting any virtual machines, and also namespace isolation functionality that allows complete isolation of an application&#x27;s view of the operating environment, including process trees, networking, user IDs and mounted file systems.</li><li>LXC combines the kernel&#x27;s cgroups and support for isolated namespaces to provide an isolated environment for applications.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="advantages"></a>Advantages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#advantages" title="Direct link to heading">#</a></h3><ul><li>Security: network services can be run in a container, which limits the damage caused by a security breach or violation. An intruder who successfully exploits a security hole on one of the applications running in that container is restricted to the set of actions possible within that container.</li><li>Isolation: containers allow the deployment of one or more applications on the same physical machine, even if those applications must operate under different domains, each requiring exclusive access to its respective resources. For instance, multiple applications running in different containers can bind to the same physical network interface by using distinct IP addresses associated with each container.</li><li>Virtualization and transparency: containers provide the system with a virtualized environment that can hide or limit the visibility of the physical devices or system&#x27;s configuration underneath it. The general principle behind a container is to avoid changing the environment in which applications are running with the exception of addressing security or isolation issues.</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="docker"></a>Docker<a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker" title="Direct link to heading">#</a></h2><ul><li>Docker is an Apache-licensed open-source <em>containerization technology</em> designed to automate the repetitive task of creating and deploying microservices inside containers. </li><li>Docker treats containers as if they were extremely lightweight and modular virtual machines. </li><li>Initially, Docker was built on top of LXC, but it has since moved away from that dependency, resulting in a better developer and user experience. Much like LXC, Docker continues to make use of the kernel cgroup subsystem. The technology is more than just running containers, it also eases the process of creating containers, building images, sharing those built images and versioning them.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="advantages-1"></a>Advantages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#advantages-1" title="Direct link to heading">#</a></h3><ul><li>Portability: Docker provides an image-based deployment model. This type of portability allows for an easier way to share an application or set of services (with all of their dependencies) across multiple environments.</li><li>Version control: a single Docker image is made up of a series of combined layers. A new layer is created whenever the image is altered. For instance, a new layer is created every time a user specifies a command, such as run or copy. Docker will reuse these layers for new container builds. Layering to Docker is its very own method of version control.</li><li>Rollback: again, every Docker image has layers. If you don&#x27;t want to use the currently running layer, you can roll back to a previous version. This type of agility makes it easier for software developers to integrate and deploy their software technology continuously.</li><li>Rapid deployment: provisioning new hardware often can take days. And, the amount of effort and overhead to get it installed and configured is quite burdensome. With Docker, you can avoid all of that by reducing the time it takes to get an image up and running to a matter of seconds. When you&#x27;re done with a container, you can destroy it just as easily.</li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="lxc-vs-docker"></a>LXC v.s. Docker<a aria-hidden="true" tabindex="-1" class="hash-link" href="#lxc-vs-docker" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="process-management"></a>Process Management<a aria-hidden="true" tabindex="-1" class="hash-link" href="#process-management" title="Direct link to heading">#</a></h3><p>Docker restricts containers to run as a <strong>single</strong> process. If your application consists of X number of concurrent processes, Docker will want you to run X number of containers, each with its own distinct process. This is not the case with LXC, which runs a container with a conventional init process and, in turn, can host multiple processes inside that same container. For example, if you want to host a LAMP (Linux + Apache + MySQL + PHP) server, each process for each application will need to span across multiple Docker containers.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="state-management"></a>State Management<a aria-hidden="true" tabindex="-1" class="hash-link" href="#state-management" title="Direct link to heading">#</a></h3><p>Docker is designed to be stateless, meaning it doesn&#x27;t support persistent storage. There are ways around this, but again, it&#x27;s only necessary when the process requires it. When a Docker image is created, it will consist of read-only layers. This will not change. During runtime, if the process of the container makes any changes to its internal state, a diff between the internal state and the current state of the image will be maintained until either a commit is made to the Docker image (creating a new layer) or until the container is deleted, resulting in that diff disappearing.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="portability"></a>Portability<a aria-hidden="true" tabindex="-1" class="hash-link" href="#portability" title="Direct link to heading">#</a></h3><p>This word tends to be overused when discussing Docker—that&#x27;s because it&#x27;s the single-most important advantage Docker has over LXC. Docker does a much better job of abstracting away the networking, storage and operating system details from the application. This results in a truly configuration-independent application, guaranteeing that the environment for the application always will remain the same, regardless of the machine on which it is enabled.</p><p>Docker is designed to benefit both developers and system administrators. It has made itself an integral part of many DevOps (developers + operations) toolchains. Developers can focus on writing code without having to worry about the system ultimately hosting it. With Docker, there&#x27;s no need to install and configure complex databases or worry about switching between incompatible language toolchain versions. Docker gives the operations staff flexibility, often reducing the number of physical systems needed to host some of the smaller and more basic applications. Docker streamlines software delivery. New features and bug/security fixes reach the customer quickly without any hassle, surprises or downtime.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="kubernetes"></a>Kubernetes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kubernetes" title="Direct link to heading">#</a></h2><p>Kubernetes, or k8s (k + eight characters), originally was developed by Google. It&#x27;s an open-source platform aiming to automate container operations: &quot;deployment, scaling and operations of application containers across clusters of hosts&quot;. Google was an early adopter and contributor to the Linux Container technology (in fact, Linux Containers power Google&#x27;s very own cloud services). Kubernetes eliminates all of the manual processes involved in the deployment and scaling of containerized applications. It&#x27;s capable of clustering together groups of servers hosting Linux Containers while also allowing administrators to manage those clusters easily and efficiently.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="references"></a>References<a aria-hidden="true" tabindex="-1" class="hash-link" href="#references" title="Direct link to heading">#</a></h2><ul><li><a href="https://domino.research.ibm.com/library/cyberdig.nsf/papers/0929052195DD819C85257D2300681E7B/$File/rc25482.pdf">IBM Research Report: An Updated Performance Comparison of Virtual Machines and Linux Containers</a></li><li>Everything You Need to Know about Linux Containers<ul><li><a href="https://www.linuxjournal.com/content/everything-you-need-know-about-linux-containers-part-i-linux-control-groups-and-process" target="_blank" rel="noopener noreferrer">Part I: Linux Control Groups and Process Isolation</a></li><li><a href="https://www.linuxjournal.com/content/everything-you-need-know-about-linux-containers-part-ii-working-linux-containers-lxc" target="_blank" rel="noopener noreferrer">Part II: Working with Linux Containers (LXC)</a></li><li><a href="https://www.linuxjournal.com/content/everything-you-need-know-about-containers-part-iii-orchestration-kubernetes" target="_blank" rel="noopener noreferrer">Part III: Orchestration with Kubernetes</a></li></ul></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/lingt-xyz/io/tree/master/docs/programming/container/Container.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-07-30T09:03:13.000Z" class="docLastUpdatedAt_1sqk">7/30/2020</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/programming/container/Docker"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-container" class="table-of-contents__link">What is container</a></li><li><a href="#why-it-works" class="table-of-contents__link">Why it works</a><ul><li><a href="#cgroups" class="table-of-contents__link">cgroups</a></li><li><a href="#subsystem" class="table-of-contents__link">subsystem</a></li><li><a href="#kernfs" class="table-of-contents__link">kernfs</a></li></ul></li><li><a href="#lxc" class="table-of-contents__link">LXC</a><ul><li><a href="#advantages" class="table-of-contents__link">Advantages</a></li></ul></li><li><a href="#docker" class="table-of-contents__link">Docker</a><ul><li><a href="#advantages-1" class="table-of-contents__link">Advantages</a></li></ul></li><li><a href="#lxc-vs-docker" class="table-of-contents__link">LXC v.s. Docker</a><ul><li><a href="#process-management" class="table-of-contents__link">Process Management</a></li><li><a href="#state-management" class="table-of-contents__link">State Management</a></li><li><a href="#portability" class="table-of-contents__link">Portability</a></li></ul></li><li><a href="#kubernetes" class="table-of-contents__link">Kubernetes</a></li><li><a href="#references" class="table-of-contents__link">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Ling. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.0da51b68.js"></script>
<script src="/runtime~main.caa7fe77.js"></script>
<script src="/main.aaae36b7.js"></script>
<script src="/1.57931f34.js"></script>
<script src="/2.886de19c.js"></script>
<script src="/3.94523422.js"></script>
<script src="/1be78505.014bf2dc.js"></script>
<script src="/90.d52231c0.js"></script>
<script src="/20ac7829.902f7540.js"></script>
<script src="/17896441.29df7372.js"></script>
<script src="/c65c1f86.e6540744.js"></script>
</body>
</html>