(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{261:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return o})),n.d(t,"default",(function(){return b}));var r=n(2),a=n(9),l=(n(0),n(274)),i={title:"Build LLVM 6.0"},c={id:"programming/C++/LLVM",isDocsHomePage:!1,title:"Build LLVM 6.0",description:"Build LLVM 6.0, including Clang.",source:"@site/docs/programming/C++/LLVM.md",permalink:"/docs/programming/C++/LLVM",editUrl:"https://github.com/lingt-xyz/io/tree/master/docs/programming/C++/LLVM.md",lastUpdatedAt:1628115133,sidebar:"cplusplus",previous:{title:"GCC Compiler",permalink:"/docs/programming/C++/GCC"},next:{title:"GNU make",permalink:"/docs/programming/C++/Make"}},o=[{value:"Source code",id:"source-code",children:[]},{value:"Hardware",id:"hardware",children:[]},{value:"Host environment",id:"host-environment",children:[]},{value:"Build LLVM and Clang",id:"build-llvm-and-clang",children:[]},{value:"References",id:"references",children:[]}],s={rightToc:o};function b(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,"Build LLVM 6.0, including Clang."),Object(l.b)("p",null,"LLVM comes in three pieces. "),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"The first piece is the LLVM suite. This contains all of the tools, libraries, and header files needed to use LLVM. It contains an assembler, disassembler, bitcode analyzer and bitcode optimizer. It also contains basic regression tests that can be used to test the LLVM tools and the Clang front end.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"The second piece is the Clang front end. This component compiles C, C++, Objective C, and Objective C++ code into LLVM bitcode. Once compiled into LLVM bitcode, a program can be manipulated with the LLVM tools from the LLVM suite.")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("p",{parentName:"li"},"There is a third, optional piece called Test Suite. It is a suite of programs with a testing harness that can be used to further test LLVM\u2019s functionality and performance."))),Object(l.b)("h2",{id:"source-code"},"Source code"),Object(l.b)("p",null,Object(l.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/llvm/llvm-project/releases/tag/llvmorg-6.0.0"}),"https://github.com/llvm/llvm-project/releases/tag/llvmorg-6.0.0")),Object(l.b)("hr",null),Object(l.b)("h2",{id:"hardware"},"Hardware"),Object(l.b)("p",null,"Disk 20GB, RAM 16GB."),Object(l.b)("h2",{id:"host-environment"},"Host environment"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ uname -a\nLinux ubuntu 5.4.0-42-generic #46~18.04.1-Ubuntu SMP Fri Jul 10 07:21:24 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\n")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ sudo apt install g++\n$ sudo apt install cmake\n")),Object(l.b)("h2",{id:"build-llvm-and-clang"},"Build LLVM and Clang"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),'$ cd llvm-project\n$ mkdir build (in-tree build is not supported)\n$ cd build\n$ cmake -DLLVM_ENABLE_PROJECTS=clang -G "Unix Makefiles" ../llvm\n$ cmake --build .\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"After LLVM has finished building, install it from the build directory:")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ cmake --build . --target install\n")),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"--target")," option with install parameter in addition to the ",Object(l.b)("inlineCode",{parentName:"p"},"--build")," option tells cmake to build the install target."),Object(l.b)("p",null,"It is possible to set a different install prefix at installation time by invoking the cmake_install.cmake script generated in the build directory:"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"$ cmake -DCMAKE_INSTALL_PREFIX=/tmp/llvm -P cmake_install.cmake\n")),Object(l.b)("hr",null),Object(l.b)("h2",{id:"references"},"References"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(r.a)({parentName:"li"},{href:"https://releases.llvm.org/6.0.0/docs/CMake.html"}),"https://releases.llvm.org/6.0.0/docs/CMake.html")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(r.a)({parentName:"li"},{href:"https://clang.llvm.org/get_started.html"}),"https://clang.llvm.org/get_started.html")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",Object(r.a)({parentName:"li"},{href:"https://releases.llvm.org/6.0.0/docs/GettingStarted.html"}),"https://releases.llvm.org/6.0.0/docs/GettingStarted.html"))))}b.isMDXComponent=!0},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),b=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=b(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),p=b(n),d=r,m=p["".concat(i,".").concat(d)]||p[d]||u[d]||l;return n?a.a.createElement(m,c(c({ref:t},s),{},{components:n})):a.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var s=2;s<l;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);