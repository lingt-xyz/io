(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{188:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(9),c=(n(0),n(274)),o={title:"React"},l={id:"programming/JavaScript/React",isDocsHomePage:!1,title:"React",description:"What Is React?",source:"@site/docs/programming/JavaScript/React.md",permalink:"/docs/programming/JavaScript/React",editUrl:"https://github.com/lingt-xyz/io/tree/master/docs/programming/JavaScript/React.md",lastUpdatedAt:1634700616,sidebar:"javascript",previous:{title:"JavaScript",permalink:"/docs/programming/JavaScript/JavaScript"},next:{title:"ReactNative",permalink:"/docs/programming/JavaScript/ReactNative"}},i=[{value:"What Is React?",id:"what-is-react",children:[]},{value:"Hello World",id:"hello-world",children:[]},{value:"JSX",id:"jsx",children:[{value:"Embedding Expressions in JSX",id:"embedding-expressions-in-jsx",children:[]},{value:"Specifying Attributes with JSX",id:"specifying-attributes-with-jsx",children:[]}]},{value:"Rendering Elements",id:"rendering-elements",children:[{value:"Rendering an Element into the DOM",id:"rendering-an-element-into-the-dom",children:[]},{value:"Updating the Rendered Element",id:"updating-the-rendered-element",children:[]},{value:"React Only Updates What\u2019s Necessary",id:"react-only-updates-whats-necessary",children:[]}]},{value:"Components and Props",id:"components-and-props",children:[{value:"Function and Class Components",id:"function-and-class-components",children:[]},{value:"Rendering a Component",id:"rendering-a-component",children:[]},{value:"Props are Read-Only",id:"props-are-read-only",children:[]}]},{value:"State and Lifecycle",id:"state-and-lifecycle",children:[{value:"Converting a Function to a Class",id:"converting-a-function-to-a-class",children:[]},{value:"Adding Local State to a Class",id:"adding-local-state-to-a-class",children:[]},{value:"Adding Lifecycle Methods to a Class",id:"adding-lifecycle-methods-to-a-class",children:[]},{value:"Using State Correctly",id:"using-state-correctly",children:[]},{value:"The Data Flows Down",id:"the-data-flows-down",children:[]}]},{value:"Handling Events",id:"handling-events",children:[{value:"Passing Arguments to Event Handlers",id:"passing-arguments-to-event-handlers",children:[]}]},{value:"References",id:"references",children:[]}],s={rightToc:i};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"what-is-react"},"What Is React?"),Object(c.b)("p",null,"React is "),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"a JavaScript library "),Object(c.b)("li",{parentName:"ol"},"for building user interfaces (?)"),Object(c.b)("li",{parentName:"ol"},"lets you compose complex UIs from small and isolated pieces of code called \u201ccomponents\u201d.")),Object(c.b)("p",null,"A component "),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"takes in parameters, called ",Object(c.b)("inlineCode",{parentName:"li"},"props")," (short for \u201cproperties\u201d), and "),Object(c.b)("li",{parentName:"ol"},"returns a hierarchy of views to display via the ",Object(c.b)("inlineCode",{parentName:"li"},"render")," method.")),Object(c.b)("h2",{id:"hello-world"},"Hello World"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"ReactDOM.render(\n  <h1>Hello, world!</h1>,\n  document.getElementById('root')\n);\n")),Object(c.b)("h2",{id:"jsx"},"JSX"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const element = <h1>Hello, world!</h1>;\n")),Object(c.b)("h3",{id:"embedding-expressions-in-jsx"},"Embedding Expressions in JSX"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const name = 'Josh Perez';\nconst element = <h1>Hello, {name}</h1>;\n\nReactDOM.render(\n  element,\n  document.getElementById('root')\n);\n")),Object(c.b)("h3",{id:"specifying-attributes-with-jsx"},"Specifying Attributes with JSX"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'const element = <div tabIndex="0"></div>;\n\nconst element = <img src={user.avatarUrl}></img>;\n')),Object(c.b)("h2",{id:"rendering-elements"},"Rendering Elements"),Object(c.b)("p",null,"Unlike browser DOM elements, React elements are plain objects, and are cheap to create."),Object(c.b)("h3",{id:"rendering-an-element-into-the-dom"},"Rendering an Element into the DOM"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const element = <h1>Hello, world</h1>;\nReactDOM.render(element, document.getElementById('root'));\n")),Object(c.b)("h3",{id:"updating-the-rendered-element"},"Updating the Rendered Element"),Object(c.b)("p",null,"React elements are immutable. Once you create an element, you can\u2019t change its children or attributes. The only way to update the UI is to create a new element, and pass it to ",Object(c.b)("inlineCode",{parentName:"p"},"ReactDOM.render()"),"."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"function tick() {\n  const element = (\n    <div>\n      <h1>Hello, world!</h1>\n      <h2>It is {new Date().toLocaleTimeString()}.</h2>\n    </div>\n  );\n  ReactDOM.render(element, document.getElementById('root'));\n}\n\nsetInterval(tick, 1000);\n")),Object(c.b)("h3",{id:"react-only-updates-whats-necessary"},"React Only Updates What\u2019s Necessary"),Object(c.b)("p",null,"React DOM compares the element and its children to the previous one, and only applies the DOM updates necessary to bring the DOM to the desired state."),Object(c.b)("h2",{id:"components-and-props"},"Components and Props"),Object(c.b)("p",null,"Components are like JavaScript functions. They accept arbitrary inputs (called \u201cprops\u201d) and return React elements describing what should appear on the screen."),Object(c.b)("h3",{id:"function-and-class-components"},"Function and Class Components"),Object(c.b)("p",null,"The simplest way to define a component is to write a JavaScript function:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"function Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n")),Object(c.b)("p",null,"This function is a valid React component because it accepts a single \u201cprops\u201d (which stands for properties) object argument with data and returns a React element. We call such components \u201cfunction components\u201d because they are literally JavaScript functions."),Object(c.b)("p",null,"You can also use an ES6 class to define a component:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class Welcome extends React.Component {\n  render() {\n    return <h1>Hello, {this.props.name}</h1>;\n  }\n}\n")),Object(c.b)("p",null,"The above two components are equivalent from React\u2019s point of view."),Object(c.b)("h3",{id:"rendering-a-component"},"Rendering a Component"),Object(c.b)("p",null,"Elements can also represent user-defined components:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'const element = <Welcome name="Sara" />;\n')),Object(c.b)("h3",{id:"props-are-read-only"},"Props are Read-Only"),Object(c.b)("p",null,"Whether you declare a component as a function or a class, it must never modify its own props."),Object(c.b)("p",null,"All React components must act like pure functions with respect to their props."),Object(c.b)("h2",{id:"state-and-lifecycle"},"State and Lifecycle"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"function Clock(props) {\n  return (\n    <div>\n      <h1>Hello, world!</h1>\n      <h2>It is {props.date.toLocaleTimeString()}.</h2>\n    </div>\n  );\n}\n\nReactDOM.render(\n  <Clock />,\n  document.getElementById('root')\n);\n")),Object(c.b)("h3",{id:"converting-a-function-to-a-class"},"Converting a Function to a Class"),Object(c.b)("p",null,"You can convert a function component like ",Object(c.b)("inlineCode",{parentName:"p"},"Clock")," to a class in five steps:"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"Create an ES6 class, with the same name, that extends ",Object(c.b)("inlineCode",{parentName:"li"},"React.Component"),"."),Object(c.b)("li",{parentName:"ol"},"Add a single empty method to it called ",Object(c.b)("inlineCode",{parentName:"li"},"render()"),"."),Object(c.b)("li",{parentName:"ol"},"Move the body of the function into the ",Object(c.b)("inlineCode",{parentName:"li"},"render()")," method."),Object(c.b)("li",{parentName:"ol"},"Replace ",Object(c.b)("inlineCode",{parentName:"li"},"props")," with ",Object(c.b)("inlineCode",{parentName:"li"},"this.props")," in the ",Object(c.b)("inlineCode",{parentName:"li"},"render()")," body."),Object(c.b)("li",{parentName:"ol"},"Delete the remaining empty function declaration.")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class Clock extends React.Component {\n  render() {\n    return (\n      <div>\n        <h1>Hello, world!</h1>\n        <h2>It is {this.props.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n")),Object(c.b)("h3",{id:"adding-local-state-to-a-class"},"Adding Local State to a Class"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {date: new Date()};\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Hello, world!</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n")),Object(c.b)("h3",{id:"adding-lifecycle-methods-to-a-class"},"Adding Lifecycle Methods to a Class"),Object(c.b)("p",null,"We can declare special methods on the component class to run some code when a component mounts and unmounts:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"  componentDidMount() {\n  }\n\n  componentWillUnmount() {\n  }\n")),Object(c.b)("p",null,"These methods are called \u201clifecycle methods\u201d."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {date: new Date()};\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      date: new Date()\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Hello, world!</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <Clock />,\n  document.getElementById('root')\n);\n")),Object(c.b)("h3",{id:"using-state-correctly"},"Using State Correctly"),Object(c.b)("h4",{id:"do-not-modify-state-directly"},"Do Not Modify State Directly"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"// Wrong\nthis.state.comment = 'Hello';\n// Correct\nthis.setState({comment: 'Hello'});\n")),Object(c.b)("h4",{id:"state-updates-may-be-asynchronous"},"State Updates May Be Asynchronous"),Object(c.b)("p",null,"React may batch multiple ",Object(c.b)("inlineCode",{parentName:"p"},"setState()")," calls into a single update for performance."),Object(c.b)("p",null,"Because ",Object(c.b)("inlineCode",{parentName:"p"},"this.props")," and ",Object(c.b)("inlineCode",{parentName:"p"},"this.state")," may be updated asynchronously, you should not rely on their values for calculating the next state."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"// Wrong\nthis.setState({\n  counter: this.state.counter + this.props.increment,\n});\n\n// Correct\nthis.setState((state, props) => ({\n  counter: state.counter + props.increment\n}));\n\n// Correct\nthis.setState(function(state, props) {\n  return {\n    counter: state.counter + props.increment\n  };\n});\n")),Object(c.b)("h4",{id:"state-updates-are-merged"},"State Updates are Merged"),Object(c.b)("p",null,"When you call ",Object(c.b)("inlineCode",{parentName:"p"},"setState()"),", React merges the object you provide into the current state."),Object(c.b)("h3",{id:"the-data-flows-down"},"The Data Flows Down"),Object(c.b)("p",null,"Neither parent nor child components can know if a certain component is stateful or stateless, and they shouldn\u2019t care whether it is defined as a function or a class."),Object(c.b)("p",null,"A component may choose to pass its state down as props to its child components:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"<FormattedDate date={this.state.date} />\n")),Object(c.b)("p",null,"The FormattedDate component would receive the date in its props and wouldn\u2019t know whether it came from the Clock\u2019s state, from the Clock\u2019s props, or was typed by hand:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"function FormattedDate(props) {\n  return <h2>It is {props.date.toLocaleTimeString()}.</h2>;\n}\n")),Object(c.b)("h2",{id:"handling-events"},"Handling Events"),Object(c.b)("p",null,"Handling events with React elements is very similar to handling events on DOM elements. There are some syntax differences:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"React events are named using camelCase, rather than lowercase."),Object(c.b)("li",{parentName:"ul"},"With JSX you pass a function as the event handler, rather than a string."),Object(c.b)("li",{parentName:"ul"},"Cannot return ",Object(c.b)("inlineCode",{parentName:"li"},"false")," to prevent default behavior in React. You must call ",Object(c.b)("inlineCode",{parentName:"li"},"preventDefault")," explicitly.")),Object(c.b)("p",null,"In HTML:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'<button onclick="activateLasers()">\n  Activate Lasers\n</button>\n\n<form onsubmit="console.log(\'You clicked submit.\'); return false">\n  <button type="submit">Submit</button>\n</form>\n')),Object(c.b)("p",null,"In React:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"<button onClick={activateLasers}>\n  Activate Lasers\n</button>\n\nfunction Form() {\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('You clicked submit.');\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n")),Object(c.b)("p",null,"When you define a component using an ES6 class, a common pattern is for an event handler to be a method on the class."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class Toggle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {isToggleOn: true};\n\n    // This binding is necessary to make `this` work in the callback\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState(prevState => ({\n      isToggleOn: !prevState.isToggleOn\n    }));\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>\n        {this.state.isToggleOn ? 'ON' : 'OFF'}\n      </button>\n    );\n  }\n}\n\nReactDOM.render(\n  <Toggle />,\n  document.getElementById('root')\n);\n")),Object(c.b)("p",null,"You can use an arrow function in the callback:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"class LoggingButton extends React.Component {\n  handleClick() {\n    console.log('this is:', this);\n  }\n\n  render() {\n    // This syntax ensures `this` is bound within handleClick\n    return (\n      <button onClick={() => this.handleClick()}>\n        Click me\n      </button>\n    );\n  }\n}\n")),Object(c.b)("p",null,"The problem with this syntax is that a different callback is created each time the LoggingButton renders."),Object(c.b)("h3",{id:"passing-arguments-to-event-handlers"},"Passing Arguments to Event Handlers"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"<button onClick={(e) => this.deleteRow(id, e)}>Delete Row</button>\n<button onClick={this.deleteRow.bind(this, id)}>Delete Row</button>\n")),Object(c.b)("h2",{id:"references"},"References"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://reactjs.org/tutorial/tutorial.html"}),"https://reactjs.org/tutorial/tutorial.html")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://reactjs.org/docs/hello-world.html"}),"https://reactjs.org/docs/hello-world.html")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=nTeuhbP7wdE"}),"https://www.youtube.com/watch?v=nTeuhbP7wdE"))))}p.isMDXComponent=!0},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,m=d["".concat(o,".").concat(u)]||d[u]||b[u]||c;return n?r.a.createElement(m,l(l({ref:t},s),{},{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=u;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<c;s++)o[s]=n[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);